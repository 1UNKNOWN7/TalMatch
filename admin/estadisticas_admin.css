/* ==========================================================
   TalMatch – Estadísticas (Admin)
   - Cards y charts SVG sin librerías externas
   - Borde 3px #00aaff y modo oscuro de alto contraste
   ========================================================== */

/* ===== Tokens ===== */
:root{
  --tm-blue:#00aaff; --tm-blue-dark:#0b96d8; --tm-blue-100:#e6f7ff;
  --bg:#f4f6f9; --card:#ffffff; --text:#0f172a; --muted:#475569; --border:#a9d7ff;
  --shadow:0 10px 20px rgba(20,60,120,.06); --radius:14px;
}

/* Dark */
body.dark{
  --bg:#0b1324; --card:#0f1b2e; --text:#eaf2ff; --muted:#b6c3d7; --border:#1f3b59;
  --tm-blue:#3fc2ff; --tm-blue-dark:#2fb0ec; --tm-blue-100:#0b2540;
  --shadow:0 10px 24px rgba(0,0,0,.45);
}

/* ===== Base ===== */
*{ box-sizing:border-box } html,body{ height:100% }
body{ margin:0; background:var(--bg); color:var(--text); font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans"; line-height:1.5; }
.page-wrap{ min-height:100%; display:flex; flex-direction:column; }

/* Header */
.tm-header{ display:flex; align-items:center; justify-content:space-between; padding:16px 20px; background:var(--card); border-bottom:3px solid var(--tm-blue); position:sticky; top:0; z-index:10; }
.brand{ display:flex; align-items:center; gap:12px; }
.logo{ width:44px; height:44px; object-fit:contain; border-radius:10px; background:#fff; box-shadow:var(--shadow); }
.tm-header h1{ margin:0; font-size:clamp(18px,2.4vw,24px); }
.header-actions{ display:flex; align-items:center; gap:12px; }

/* Container */
.tm-container{ width:min(1100px,94%); margin:24px auto; }

/* Card */
.card{ background:var(--card); border:3px solid var(--tm-blue); border-radius:var(--radius); box-shadow:var(--shadow); padding:16px; }
.card + .card{ margin-top:16px; }

/* Filtros */
.card-filtros .toolbar{ display:flex; gap:12px; align-items:flex-end; flex-wrap:wrap; }
.control{ display:flex; flex-direction:column; min-width:220px; }
.control label{ font-weight:600; margin-bottom:6px; }
.control select{ padding:10px 12px; border:2px solid var(--tm-blue); border-radius:12px; background:#fff; color:var(--text); outline:none; }
.control select:focus{ box-shadow:0 0 0 3px color-mix(in srgb, var(--tm-blue) 25%, transparent); background:var(--tm-blue-100); }
.actions{ display:flex; gap:8px; }

/* Grid */
.grid{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap:12px;
  margin-top:16px;
}

/* KPI cards */
.kpi{ grid-column: span 3; }
.k-title{ font-weight:700; color:var(--muted); }
.k-value{ font-size:28px; font-weight:700; margin:6px 0; }
.k-sub{ font-size:12px; }

/* Charts */
.chart{ grid-column: span 6; }
.chart h2{ margin:4px 0 10px; font-size:16px; }
.chart svg{ width:100%; height:auto; display:block; background: #fff; border:2px solid var(--tm-blue); border-radius:12px; padding:6px; }

/* Dona */
.legend{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px; }
.leg{ display:flex; align-items:center; gap:6px; padding:6px 10px; border:2px solid var(--tm-blue); border-radius:999px; background:#fff; }
.leg .dot{ width:10px; height:10px; border-radius:50%; display:inline-block; }

/* Buttons */
.btn{ appearance:none; border:2px solid var(--tm-blue); background:#fff; color:var(--tm-blue-dark); padding:10px 14px; border-radius:12px; font-weight:600; cursor:pointer; text-decoration:none; transition:transform .04s, background .2s, filter .2s, color .2s, border-color .2s; }
.btn:active{ transform:translateY(1px); }
.btn-ghost{ border-color:var(--border); color:var(--muted); }
.btn-ghost:hover{ color:var(--text); background:var(--tm-blue-100); }

/* Toast */
.toast{ position:fixed; right:16px; top:78px; background:var(--card); color:var(--text); border:2px solid var(--tm-blue); border-radius:12px; padding:10px 14px; box-shadow:var(--shadow); opacity:0; pointer-events:none; transform:translateY(-8px); transition:opacity .2s, transform .2s; z-index:20; }
.toast.show{ opacity:1; pointer-events:auto; transform:translateY(0); }

/* Toggle tema */
.theme-toggle{ display:inline-flex; align-items:center; gap:10px; user-select:none; }
.theme-toggle input{ display:none; }
.theme-label{ font-size:14px; color:var(--muted); }
.slider{ width:44px; height:24px; border-radius:999px; background:#c7e5ff; position:relative; border:2px solid var(--tm-blue); }
.slider::after{ content:""; position:absolute; top:50%; left:2px; translate:0 -50%; width:20px; height:20px; border-radius:50%; background:#fff; border:2px solid var(--tm-blue); box-shadow:var(--shadow); transition:left .2s; }
input:checked + .slider{ background:var(--tm-blue); border-color:var(--tm-blue-dark); }
input:checked + .slider::after{ left:22px; }

/* Dark specifics */
body.dark .chart svg{ background:#0f1b2e; }
body.dark .leg{ background:#162235; }
body.dark .legend .dot{ outline:2px solid rgba(0,0,0,.2); }

/* Responsive */
@media (max-width:980px){ .kpi{ grid-column: span 6; } .chart{ grid-column: span 12; } }
@media (max-width:680px){ .kpi{ grid-column: span 12; } }
.tm-footer{ margin-top:auto; padding:16px 20px; color:var(--muted); text-align:center; }
